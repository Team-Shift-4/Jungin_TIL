---
icon: square
description: 8장-관계에 관한 내용을 정리한 문서이다.
---

# 8. Relations

## 8.1. Relations and Their Properties

Set $$A,B$$에 대해 Binary relation from $$A$$ to $$B$$는 $$A\times B$$의 Subset이다.

Binary relation from $$A$$ to $$B$$의 첫 번재 Element가 $$A$$에서 오고 두 번재 Element가 $$B$$에서 온 각 Ordered pair의 Set $$R$$이라고 할 때 $$(a, b)\in R$$을 나타내기 위해 $$a\ R\ b$$라는 Notation을 사용하고 $$(a,b)\notin R$$을 Notation으로 $$a \not R\ b$$로 나타낸다.\
$$(a,b)$$가 $$R$$에 속할 때 $$a$$는 related to $$b$$ by $$R$$($$a$$는 $$R$$에 의해 $$b$$와 관계)라고 한다.

{% hint style="success" %}
Example

$$A=\{0,1,2\}, B=\{a,b\}$$라고 할 때 relation from $$A$$ to $$B$$

* Solution\
  $$\{(0,a),(0,b),(1,a),(1,b),(2,a),(2,b)\}$$
{% endhint %}

### Functions as Relations

Functrion $$f$$가 Set $$A$$에서 $$B$$로 정의된 경우 $$f$$는 $$A$$의 각 Element에 대해 $$B$$에 정확히 하나의 Element를 할당한다.\
$$f$$의 Graph는 $$A\times B$$의 Subset이므로 $$A$$에서 $$B$$로의 Relation이다.\
Function의 Graph는 $$A$$의 모든 Element가 Graph의 정확히 하나의 Ordered pair의 첫 Element라는 특성을 가지고 있다.

$$R$$이 $$A$$에서 $$B$$로의 관계이고 $$A$$의 모든 Element가 $$R$$의 정확히 하나의 Ordered pair의 첫 Element라면 $$R$$을 Graph로 하는 Function이 정의될 수 있다.\
$$A$$의 Element $$a$$에 대해 $$(a,b)\in R$$인 유일한 Element $$b\in B$$를 할당함으로 가능해진다.

Relation은 Set $$A,B$$의 Element 간 One-to-many relationship을 표현하는 데 사용될 수 있다.\
이 경우 $$A$$의 Element는 $$B$$의 여러 Element와 Relation이 있을 수 있다.\
Funtion의 경우 $$A$$의 각 Element와 관련된 $$B$$의 정확히 하나의 Element를 나타내는 Relation이다.

### Relations on a Set

Set $$A$$에서 $$A$$로의 Relation은 Relation on the set $$A$$라고 하며 $$A\times A$$의 Subset이다.

{% hint style="success" %}
Example

Set $$A=\{1,2,3,4\}$$라고 할 때 Relation $$R=\{(a,b)|a\ divides\ b\}$$의 Ordered pair

* Solution\
  $$R=\{(1,1),(1,2),(1,3),(1,4),(2,2),(2,4),(3,3),(4,4)\}$$
{% endhint %}

{% hint style="success" %}
Example

$$n$$개의 Element를 가진 Set에서 Relation 개수

* Solution\
  Set $$A$$에서의 Relation은 $$A\times A$$의 Subset이다.\
  $$A\times A$$는 $$n^2$$개의 Element를 가지기에 $$2^{n^2}$$만큼의 Relation이 존재한다.
{% endhint %}

### Properties of Relations

Set $$A$$에서의 Relation $$R$$은 모든 Element $$a\in A$$에 대해 $$(a,a)\in R$$일 경우 Reflexive(반사적)이라고 한다.

{% hint style="warning" %}
Remark

Quantifier를 사용할 경우 Relation $$R$$이 Set $$A$$에서 Reflexive하다는 것은 $$\forall a\in A, (a,a)\in R$$을 의미한다.
{% endhint %}

Set $$A$$에 대한 Relation $$R$$은 $$A$$의 모든 $$a, b$$에 대해 $$(a,b)\in R$$일 때 $$(b,a)\in R$$이면 Symmetric(대칭적)이라 하고 $$a,b \in A$$에 대해 $$(a, b)\in R, (b,a)\in R$$을 만족하는 Condition이 $$a=b$$일 경우 Antisymmetric(비대칭적)이라고 한다.

{% hint style="warning" %}
Remark

Quantifier를 사용할 경우 Set $$A$$의 Relation $$R$$은 $$\forall a\forall b((a,b)\in R\to (b,a)\in R)$$인 경우 Symmetric, $$\forall a \forall b(((a,b)\in R\land(b,a)\in R)\to (a=b))$$인 경우 Antisymmetric이라 한다.
{% endhint %}

Set $$A$$의 Transitive(전이) relation은 Relation $$R$$의 모든 $$a, b,c \in A$$에 대해 $$(a,b)\in R$$이고 $$(b,c)\in R$$이면 $$(a, c)\in R$$이 성립함을 의미한다.

{% hint style="warning" %}
Remark

Quantifier를 사용하여 Set $$A$$의 Relation $$R$$이 Transitive인 경우를 $$\forall a\forall b\forall c((a,b)\in R\land (b,c)\in R)\to(a,c)\in R$$로 표현 가능하다.
{% endhint %}

{% hint style="success" %}
Example

모든 $$a$$가 Positive integer set $$A$$에 속할 때 $$(a,a)$$는 Positive integer의 Divide relation에서 Reflexive인 지, Symmetric인 지, Transitive인 지

* Solution\
  Reflexive: $$a$$가 Positive integer일 때 항상 $$a$$는 $$a$$를 나누므로 Divide relation은 Reflexive하다.\
  만약 Set을 Nonnegative integer set으로 바꿀 경우 0은 0을 나눌 수 없으므로 Divide relation이 Reflexive하지 못한다.\
  Symmetric: Symmetirc이지 않다.\
  이유로는 $$1|2$$이나 $$2\not |1$$이기 때문이다.\
  추가적으로 이 Relation은 Antisymmetric인 이유로는 $$a, b$$가 Positive integer일 때 $$a|b$$이고 $$b|a$$이면 $$a=b$$이기 때문이다.\
  Transitive: Positive integer $$a,b,c$$에 대해 $$a|b \land b|c \to a|c$$이기에 이 Relation은 Transitive이다.
{% endhint %}

### Combining Relation

Set $$A, B$$에 대한 Relation은 $$A\times  B$$의 Subset이다.

$$R$$을 Set $$A$$에서 $$B$$로의 Relation, $$S$$를 Set $$B$$에서 $$C$$로의 Relation이라고 할 때 $$R, S$$의 Composite는 $$a\in A, c\in C$$를 만족하는 Ordered pair $$(a,c)$$로 이루어진 Releation이며 $$(a,b)\in R \land (b, c)\in S$$이다.\
Notation으로 $$S\circ R$$로 표현한다.

Set $$A$$의 Relation $$R$$의 Power $$R^n, n=1,2,\dots$$를 $$R^1=R, R^{n+1}=R^n\circ R$$로 Recursive하게 정의된다.

{% hint style="success" %}
Example

Relation $$R$$을 모든 사람에 대한 Set의 Relation이라고 할 때 $$(a, b)\in R$$은 $$a$$가 $$b$$의 부모일 때 성립할 때 $$(a,c)\in R\circ R$$

* Solution\
  Relation $$R$$이 부모 Relation을 나타내기에 $$R\circ R$$은 부모의 부모, 즉 조부모 Relation을 나타낸다.
{% endhint %}

{% hint style="success" %}
Example

Relation $$R=\{(1,1),(2,1),(3,2),(4,3)\}$$이라고 할 때 $$R^n$$

* Solution\
  $$R^2=\{(1,1),(2,1),(3,1),(4,2)\}$$이고 $$R^3=\{(1,1),(2,1),(3,1),(4,1)\}$$을 알 수 있다.\
  이후 몇 번을 거듭제곱하여도 모든 Ordered pair의 뒤 Element가 1이 되는 것을 알 수 있으므로 $$n\geq 3\to R^n=R^3$$가 참임을 알 수 있다.
{% endhint %}

{% hint style="info" %}
Theorem

Set $$A$$의 Relation $$R$$은 $$n=1,2,\dots$$일 때 $$R^n\subseteq R$$일 경우 Transitive이다.
{% endhint %}

## 8.2. n-ary Relations and Their Application

### n-ary Relations



Set $$A_1, A_2,\cdots,A_n$$에 대한 $$n$$-ary Relation은 $$A_1\times A_2\times \cdots \times A_n$$의 Subset이다.\
Set $$A_1, A_2,\cdots,A_n$$을 Domain, $$n$$을 Relation의 Degree라고 한다.

{% hint style="success" %}
Example

$$R$$을 Airplane flight를 나타내는 5-Tuple($$A,N,S,D,T$$)라고 할 때 이 Relation의 예시로 (항공사, 비행기 번호, 출발지, 도착지, 출발 시간)의 꼴로 (Nadir, 963, Mewark, Bangor, 15:00)로 나타낼 수 있다.\
이 Relation의 Degree는 5이며 Relation의 Domain은 모든 항공사 Set, 비행기 Set, 출발 도시 Set, 도착 도시 Set, 시간 Set이 된다.
{% endhint %}

### Databases and Relations

DB는 Field로 구성된 $$n$$-tuple인 Record로 이루어져 있다(Field = 각 Tuple의 Item).\
DB의 Relation을 Table이라고 부른다(표현이 Table로 되기 때문).\
$$n$$-tuple의 Relation의 Domain은 $$n$$-tuple의 Value가 이 Domain에서 $$n$$-tuple을 결정할 때 Primary key라고 한다.\
Primary key는 Unique, Not null이다.

Relation에서 현재 $$n$$-tuple의 Set을 Relation의 Extension이라고 한다.\
DB의 Name, Attribute들을 포함하는 Permanent part를 Intension이라고 한다.

Domain의 Combination은 $$n$$-ary Relation에서 $$n$$-tuple을 Uniquyely Identifiy 가능하다.\
특정 Domain set의 Value가 Relation 내의 $$n$$-tuple을 결정할 때 Domain의 Cartesian product를 Composite key라고 한다.

### Operations on n-ary Relations

$$n$$-ary relation $$R$$의 Element가 만족할 수 있는 Condition을 $$C$$라 할 때 Selection operator $$s_C$$은 $$n$$-ary relation $$R$$을 Condition $$C$$를 만족하는 $$R$$의 모든 $$n$$-tuple의 $$n$$-ary relation을 Mapping한다.

Projection(투영 연산) $$i_1<i_2<\cdots<i_m$$을 만족하는 $$P_{{i_1}{i_2}\dots{i_m}}$$은 $$m\leq n$$일 때, $$n$$-tuple($$a_1, a_2,\dots,a_n$$)을 $$m$$-tuple($$a_{i_1},a_{i_2},\dots,a_{i_m}$$)로 Mapping한다.

$$R$$이 Degree $$m$$인 Relation이고 $$S$$가 Degree $$n$$인 Relation일 때 $$p\leq m, p\leq n$$인 Join $$J_p(R,S)$$는 Degree가 $$m+n-p$$인 Relation이며 $$(m+n-p)$$-tuple($$a_1,a_2,\dots,a_{m-p},c_1,c_2,\dots,c_p,b_1,b_2,\dots,b_{n-p}$$)로 구성되며 $$a_1,\dots,a_{m-p},c_1,\dots,b_{n-p}$$는 $$m$$-tuple이며 $$R$$에 속하고 $$c_1,\dots,c_p,b_1,\dots,b_{n-p}$$은 $$n$$-tuple이며 $$S$$에 속한다.

### SQL

SQL(Structured Query Language)는 DB의 Queryu language이다.

| Airline | Flight\_number | Gate | Destination | Departure\_time |
| ------- | -------------- | ---- | ----------- | --------------- |
| Nadir   | 122            | 34   | Detroit     | 08:10           |
| Acme    | 221            | 22   | Denver      | 08:17           |
| Acme    | 122            | 33   | Anchorage   | 08:22           |
| Acme    | 323            | 34   | Honolulu    | 08:30           |
| Nadir   | 199            | 13   | Detroit     | 08:47           |
| Acme    | 222            | 22   | Denver      | 09:10           |
| Nadir   | 322            | 34   | Detroit     | 09:44           |

{% hint style="success" %}
Example

`SELECT Departure_time FROM Flights WHERE Destination='Detroit';`

* Solution\
  위 Table `Flights` DB에서 Condition `Destination='Detroit'`를 만족하는 5-tuple의 Selection으로부터 `Departure_time` Attribute의 Projection $$P_5$$를 찾는 데 사용된다.
{% endhint %}

## 8.3. Representing Relations

### Representing Relations Using Matrices

Finite set 간의 Relation은 Zero-one Matrix를 사용하여 표현 가능하다.\
$$R$$이 Set $$A=\{a_1,a_2,\dots,a_m\}$$에서 $$B=\{b_1,b_2,\dots,b_n\}$$으로의 Relation이라 가정할 때 $$A=B$$와 같을 때 Relation $$R$$은 $$M_R=[m_{ij}]$$($$m_{ij}=1\ if(a_i,b_j)\in R, m_{ij}=0\ if(a_i,b_j)\notin R$$)로 나타낼 수 있다.

{% hint style="success" %}
Example

Set $$A=\{1,2,3\}, B=\{1,2\}$$의 $$A$$에서 $$B$$로의 Relation $$R$$에 대한 Ordered pair $$(a,b)$$
{% endhint %}

